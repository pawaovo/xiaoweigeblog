{{/*
  ç§å¯†å†…å®¹æ ‡é¢˜ç»„ä»¶
  å‚æ•°ï¼š
  - .ctx: å†…å®¹ä¸Šä¸‹æ–‡
  - .type: ç±»å‹ ("post-home", "post-list", "card")
  - .showLibraryPrefix: æ˜¯å¦æ˜¾ç¤º"è¯»ã€Šã€‹"å‰ç¼€ï¼ˆä»…ç”¨äºlibraryï¼‰
*/}}

{{ $ctx := .ctx }}
{{ $type := .type }}
{{ $showLibraryPrefix := .showLibraryPrefix }}
{{ $isPrivate := $ctx.Params.private }}

{{ if $isPrivate }}
  <!-- ç§å¯†å†…å®¹æ ‡é¢˜ -->
  {{ if eq $type "post-home" }}
    <!-- é¦–é¡µæ–‡ç« æ ·å¼ -->
    <span class="private-content__link" data-private-title="{{ $ctx.Title }}" data-umami-event="ğŸ”’ Click private post">
      {{ if and $showLibraryPrefix (eq $ctx.Section "library") }}
        è¯»ã€Š{{ $ctx.Title }}ã€‹
      {{ else }}
        {{ $ctx.Title }}
      {{ end }}
    </span>
  {{ else if eq $type "post-list" }}
    <!-- Postsé¡µé¢åˆ—è¡¨æ ·å¼ -->
    <span class="private-content__title" data-private-title="{{ $ctx.Title }}{{ with $ctx.Params.subtitle }}ï¼š{{ . }}{{ end }}">
      <span class="private-content__title--blur">
        {{ $ctx.Title }}{{ with $ctx.Params.subtitle }}ï¼š<span class="font-secondary">{{ . }}</span>{{ end }}
      </span>
      <span class="private-content__icon">ğŸ”’</span>
    </span>
  {{ else if eq $type "card" }}
    <!-- Cardsé¡µé¢å¡ç‰‡æ ·å¼ - ä¸å¯ç‚¹å‡» -->
    <span class="private-content__card-title">
      <span class="private-content__title--blur">{{ $ctx.Title }}</span>
      <span class="private-content__icon">ğŸ”’</span>
    </span>
  {{ end }}
{{ else }}
  <!-- æ™®é€šå†…å®¹æ ‡é¢˜ -->
  {{ if eq $type "post-home" }}
    <a href="{{ $ctx.Permalink }}" data-umami-event="ğŸ  Click post link from index">
      {{ if and $showLibraryPrefix (eq $ctx.Section "library") }}
        è¯»ã€Š{{ $ctx.Title }}ã€‹
      {{ else }}
        {{ $ctx.Title }}
      {{ end }}
    </a>
  {{ else if eq $type "post-list" }}
    <a href="{{ $ctx.RelPermalink }}" data-umami-event="ğŸ—ƒï¸ Click Post Link from Category Page">
      {{ $ctx.Title }}{{ with $ctx.Params.subtitle }}ï¼š<span class="font-secondary">{{ . }}</span>{{ end }}
    </a>
  {{ else if eq $type "card" }}
    <a href="{{ $ctx.RelPermalink }}" class="no-underline! text-[var(--text-color)]!">{{ $ctx.Title }}</a>
  {{ end }}
{{ end }}
