{{ $ctx := .ctx }}
{{ $showSummary := .showSummary }}
{{ $isPrivate := .ctx.Params.private }}

<div class="posts-item w-full my-2 {{ if $isPrivate }}private-content{{ end }}"
    style="view-transition-name: post-{{ .ctx.File.UniqueID }}">
    <header class="w-full md:flex md:justify-between">
        <div>
            <p class="font-mono text-secondary">
                <time>{{ .ctx.Date.Format "January 2" }},</time>
                <span>in <a href="/{{ .ctx.Section }}/">{{ .ctx.Section }}</a></span>
                {{ if $isPrivate }}<span class="private-content__icon--small">ðŸ”’</span>{{ end }}
            </p>
            <h2 class="xerox {{ if $isPrivate }}private-content__title--blur{{ end }}"
                {{ if $showSummary }} style="margin-bottom: 0"{{ end }}>
                {{ partial "components/private-title" (dict "ctx" .ctx "type" "post-home" "showLibraryPrefix" true) }}
            </h2>
        </div>
        <div class="my-2">
            {{ partial "components/category-pill" .ctx }}
        </div>
    </header>
    {{ if and $showSummary (not $isPrivate) }}
        <div class="markdown-body text-lg leading-relaxed"
            style="view-transition-name: post-content-{{ .ctx.File.UniqueID }}">
            {{ .ctx.Summary }}
        </div>
    {{ end }}
</div>
