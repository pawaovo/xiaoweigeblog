{{ define "main" }}
    <article class="post" id="article">
      <!-- Post Header -->
      <header
        style="view-transition-name: post-{{ .File.UniqueID }}"
        class="mb-8 relative"
      >
        {{ if .Params.banner }}
            {{ partial "components/logo" (dict
                "class" "block round-sticker w-[5rem] h-[5rem] md:w-[7rem] md:h-[7rem] right-[-3rem] md:right-[-5rem] top-[1rem] absolute rotate-[3.0deg]"
                "imageClass" "block w-full"
            ) }}
        {{ else }}
            {{ partial "components/logo" (dict
                "class" "block w-[10rem]"
                "imageClass" "block w-full"
            ) }}
        {{ end }}

        {{ partial "posts/banner" . }}
        <!-- Title and Subtitle -->
        <h1 class="text-[2rem] font-900 xerox">
          <span data-pagefind-meta="title">{{ .Title }}</span>
          {{ with .Params.subtitle }}
            <small class="block font-secondary font-italic text-[1.2rem]">{{ . }}</small>
          {{ end }}
        </h1>
        <!-- Post Meta -->
        <div class="flex flex-wrap items-center gap-2">
            <span class="font-secondary">{{ partial "components/date" . }}</span>
            {{ if or .Params.categories .Params.tags }}<span>Â·</span>{{ end }}
            {{ partial "components/category-pill" . }}
            {{ partial "components/tags" . }}
        </div>
      </header>

      <!-- Post Content -->
      <div class="min-h-[60%] leading-[2] mb-8 markdown-body"
          style="view-transition-name: post-content-{{ .File.UniqueID }}">
        <!-- TOC -->
        {{ partial "posts/toc" . }}
        <!-- Content -->
        <div id="post-content">
            {{ .Content }}
        </div>
        <!-- Endnotes -->
        {{ partial "posts/endnotes" . }}
      </div>

      {{ partial "components/backlinks" (dict "filename" .File.BaseFileName "type" "posts" "context" .) }}
      {{ partial "posts/action-menu.html" . }}
      {{ partial "posts/now-read-this.html" . }}
      {{ partial "components/back-to-top.html" . }}
    </article>
{{ end }}
